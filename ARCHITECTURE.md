# App Architecture Diagram

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PRODUCIFY APP ARCHITECTURE                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                              USER INTERFACE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  HOME PAGE      â”‚    CREATE PAGE           â”‚   ANALYSIS PAGE â­  â”‚
â”‚  /              â”‚    /create               â”‚   /analysis         â”‚
â”‚                 â”‚                          â”‚                     â”‚
â”‚  [Start]  â”€â”€â”€â”€â”€â”€â”¼â”€â†’ Genre Selection        â”‚                     â”‚
â”‚                 â”‚       â†“                  â”‚                     â”‚
â”‚                 â”‚  Add Song Parts          â”‚ Real-time Progress  â”‚
â”‚                 â”‚       â†“                  â”‚ - Analyzing         â”‚
â”‚                 â”‚  Record Vocals (Ã—3)  â”€â”€â”€â”€â”¼â”€â†’ Generating Beats  â”‚
â”‚                 â”‚                          â”‚ - Combining         â”‚
â”‚                 â”‚  [Finish & Generate] â”€â”€â”€â”€â”¼â”€â†’ Finalizing        â”‚
â”‚                 â”‚  Beats]                  â”‚       â†“             â”‚
â”‚                 â”‚                          â”‚   [Done]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                    â”‚
                                                    â†“
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚   RESULT PAGE                   â”‚
                              â”‚   /result                       â”‚
                              â”‚                                 â”‚
                              â”‚   ğŸ‰ Song Ready                 â”‚
                              â”‚   [Play] [Download] [Share]     â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


                           STATE MANAGEMENT
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                  â”‚
â”‚  useAudioStore (Global Memory Store)                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  genre: string                                            â”‚  â”‚
â”‚  â”‚  tempo: number                                            â”‚  â”‚
â”‚  â”‚  parts: SongPart[]                                        â”‚  â”‚
â”‚  â”‚  â”œâ”€ id, type, blob, duration                             â”‚  â”‚
â”‚  â”‚  â”œâ”€ beatGenerated?: boolean â­ NEW                       â”‚  â”‚
â”‚  â”‚  â””â”€ ...                                                  â”‚  â”‚
â”‚  â”‚  combinedAudio: { blob, url, duration }                  â”‚  â”‚
â”‚  â”‚  analysisInProgress?: boolean â­ NEW                     â”‚  â”‚
â”‚  â”‚  recordingPhaseComplete?: boolean â­ NEW                â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


                         DATA FLOW DIAGRAM
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                  â”‚
â”‚  RECORDING PHASE                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  Microphone Input                                         â”‚  â”‚
â”‚  â”‚         â†“                                                 â”‚  â”‚
â”‚  â”‚  useAudioRecorder Hook                                    â”‚  â”‚
â”‚  â”‚  â”œâ”€ getMediaDevices() - Get mic access                   â”‚  â”‚
â”‚  â”‚  â”œâ”€ MediaRecorder - Record audio chunks                  â”‚  â”‚
â”‚  â”‚  â””â”€ return Blob + URL + duration                         â”‚  â”‚
â”‚  â”‚         â†“                                                 â”‚  â”‚
â”‚  â”‚  Store in Memory                                         â”‚  â”‚
â”‚  â”‚  â”œâ”€ SongPart.blob = Blob                                 â”‚  â”‚
â”‚  â”‚  â”œâ”€ SongPart.url = Object URL                            â”‚  â”‚
â”‚  â”‚  â””â”€ SongPart.duration = seconds                          â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â†“                                                       â”‚  â”‚
â”‚         User clicks "Finish & Generate Beats"                 â”‚  â”‚
â”‚         â†“                                                       â”‚  â”‚
â”‚                                                                  â”‚
â”‚  ANALYSIS PHASE (NEW) â­                                        â”‚  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  Phase 1: ANALYZING                                       â”‚  â”‚
â”‚  â”‚  â”œâ”€ Validate all parts have recordings                    â”‚  â”‚
â”‚  â”‚  â””â”€ Decode all Blobs to AudioBuffer                       â”‚  â”‚
â”‚  â”‚         â†“                                                 â”‚  â”‚
â”‚  â”‚  Phase 2: GENERATING BEATS                               â”‚  â”‚
â”‚  â”‚  â”œâ”€ For each SongPart:                                    â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ Get part.type (verse, chorus, etc.)               â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ Call generateBackingTrack()                        â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ Get genre-specific beat pattern                    â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ Synthesize drum sounds                            â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ Return beat Blob + Waveform                        â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€ Mark beatGenerated = true â­                      â”‚  â”‚
â”‚  â”‚  â””â”€ Repeat for all parts (can be parallel)                â”‚  â”‚
â”‚  â”‚         â†“                                                 â”‚  â”‚
â”‚  â”‚  Phase 3: COMBINING                                       â”‚  â”‚
â”‚  â”‚  â”œâ”€ Concatenate all vocal AudioBuffers in order           â”‚  â”‚
â”‚  â”‚  â””â”€ combinedBuffer = concat([part1, part2, part3])        â”‚  â”‚
â”‚  â”‚         â†“                                                 â”‚  â”‚
â”‚  â”‚  Phase 4: FINALIZING                                      â”‚  â”‚
â”‚  â”‚  â”œâ”€ Convert AudioBuffer to WAV blob                       â”‚  â”‚
â”‚  â”‚  â”œâ”€ Create Object URL for playback                        â”‚  â”‚
â”‚  â”‚  â””â”€ Store in combinedAudio                                â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â†“                                                       â”‚  â”‚
â”‚  Navigation to /result                                        â”‚  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


                         MODULE DEPENDENCIES
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                  â”‚
â”‚  app/create/page.tsx                                             â”‚
â”‚  â”œâ”€â†’ useAudioRecorder() [from hooks/]                           â”‚
â”‚  â”‚   â””â”€â†’ Web Audio API (MediaRecorder)                          â”‚
â”‚  â”œâ”€â†’ useAudioStore [from lib/]                                  â”‚
â”‚  â””â”€â†’ UI Components [from components/]                           â”‚
â”‚                                                                  â”‚
â”‚  app/analysis/page.tsx â­ NEW                                   â”‚
â”‚  â”œâ”€â†’ useAudioStore [from lib/]                                  â”‚
â”‚  â”‚   â””â”€â†’ Subscribe to state changes                             â”‚
â”‚  â”œâ”€â†’ generateBackingTrack() [from lib/beatGenerator]            â”‚
â”‚  â”‚   â””â”€â†’ Web Audio API (Oscillator, etc)                        â”‚
â”‚  â”œâ”€â†’ audioUtils [from lib/]                                     â”‚
â”‚  â”‚   â”œâ”€â†’ decodeAudioBlob()                                      â”‚
â”‚  â”‚   â”œâ”€â†’ concatenateAudioBuffers()                              â”‚
â”‚  â”‚   â””â”€â†’ audioBufferToWav()                                     â”‚
â”‚  â””â”€â†’ UI Components [from components/]                           â”‚
â”‚                                                                  â”‚
â”‚  app/result/page.tsx                                             â”‚
â”‚  â”œâ”€â†’ useAudioStore [from lib/]                                  â”‚
â”‚  â”œâ”€â†’ AudioPlayer Component                                      â”‚
â”‚  â””â”€â†’ Download utilities                                         â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


                    BEAT GENERATION PROCESS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                  â”‚
â”‚  For Each Song Part:                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  Input:                                                   â”‚  â”‚
â”‚  â”‚  â”œâ”€ genre: "pop", "r&b", etc.                             â”‚  â”‚
â”‚  â”‚  â”œâ”€ partType: "verse", "chorus", "bridge", etc.          â”‚  â”‚
â”‚  â”‚  â”œâ”€ tempo: BPM (120, 90, etc.)                            â”‚  â”‚
â”‚  â”‚  â””â”€ bars: how many bars to generate (8)                   â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  Processing:                                              â”‚  â”‚
â”‚  â”‚  â”œâ”€ Get GENRE_CONFIGS[genre]                             â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€ Contains beat patterns per part type               â”‚  â”‚
â”‚  â”‚  â”œâ”€ Get pattern for this part type                        â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€ E.g., chorus has more kick than verse              â”‚  â”‚
â”‚  â”‚  â”œâ”€ Create AudioContext                                   â”‚  â”‚
â”‚  â”‚  â”œâ”€ Synthesize each drum sound:                           â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ playKick() - Low frequency                         â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ playSnare() - Mid frequency                        â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ playHiHat() - High frequency                       â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ playBass() - Bass line                             â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ playClap() - Accent hits                           â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€ playShaker() - Rhythm texture                      â”‚  â”‚
â”‚  â”‚  â”œâ”€ Mix all sounds together                               â”‚  â”‚
â”‚  â”‚  â””â”€ Record result to WAV blob                             â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  Output:                                                  â”‚  â”‚
â”‚  â”‚  â”œâ”€ blob: WAV file with beat                              â”‚  â”‚
â”‚  â”‚  â”œâ”€ url: Object URL for preview                           â”‚  â”‚
â”‚  â”‚  â”œâ”€ buffer: AudioBuffer for analysis                      â”‚  â”‚
â”‚  â”‚  â””â”€ duration: in seconds                                  â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  Key Insight: Each part gets genre & type-specific beats!      â”‚
â”‚  â””â”€ Verse beat != Chorus beat                                  â”‚
â”‚  â””â”€ Pop beat != Hip-Hop beat                                   â”‚
â”‚  â””â”€ Easy to extend with AI analysis                            â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


                         PHASE TIMELINE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                  â”‚
â”‚  USER RECORDS 3 PARTS (Example timing)                          â”‚
â”‚  â”œâ”€ Verse: 30 seconds                                           â”‚
â”‚ â”œâ”€ Chorus: 25 seconds                                          â”‚
â”‚  â””â”€ Verse: 35 seconds                                           â”‚
â”‚                                                                  â”‚
â”‚  ANALYSIS STARTS â”€â”€â†’ Progress Bar Fills:                        â”‚
â”‚                                                                  â”‚
â”‚  0%    [â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] Initialize                                  â”‚
â”‚  5%    [â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] Analyzing vocals...                         â”‚
â”‚  25%   [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘] Analyzing complete                          â”‚
â”‚                                                                  â”‚
â”‚  30%   [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘] Generating beat for Verse 1                 â”‚
â”‚  40%   [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘] ...                                         â”‚
â”‚  50%   [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] Verse 1 beat done                           â”‚
â”‚                                                                  â”‚
â”‚  55%   [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] Generating beat for Chorus                  â”‚
â”‚  65%   [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] ...                                         â”‚
â”‚  70%   [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] Chorus beat done                            â”‚
â”‚                                                                  â”‚
â”‚  75%   [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] Generating beat for Verse 2                 â”‚
â”‚  85%   [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] ...                                         â”‚
â”‚  90%   [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] Verse 2 beat done                           â”‚
â”‚                                                                  â”‚
â”‚  92%   [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] Combining vocals with beats...              â”‚
â”‚  95%   [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] Finalizing WAV file...                      â”‚
â”‚  100%  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] Done! â†’ Redirect to /result                 â”‚
â”‚                                                                  â”‚
â”‚  TOTAL TIME: ~30 seconds                                        â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


                    ERROR HANDLING FLOW
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                  â”‚
â”‚  IF (recordings not found)                                       â”‚
â”‚  â””â”€â†’ Show error message                                          â”‚
â”‚      â””â”€â†’ [Back to Recording] button                              â”‚
â”‚                                                                  â”‚
â”‚  IF (beat generation fails for 1 part)                           â”‚
â”‚  â”œâ”€â†’ Log error                                                   â”‚
â”‚  â”œâ”€â†’ Continue with other parts                                   â”‚
â”‚  â””â”€â†’ Show warning but still combine what's available             â”‚
â”‚                                                                  â”‚
â”‚  IF (audio combination fails)                                    â”‚
â”‚  â””â”€â†’ Show error message                                          â”‚
â”‚      â””â”€â†’ [Back to Recording] button                              â”‚
â”‚                                                                  â”‚
â”‚  IF (WAV export fails)                                           â”‚
â”‚  â””â”€â†’ Show error message                                          â”‚
â”‚      â””â”€â†’ [Try Again] button                                      â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

---

## Component Responsibility Matrix

| Component | Recording | Analysis | Combination | Export |
|-----------|-----------|----------|-------------|--------|
| Create Page | âœ… Records | - | - | - |
| Analysis Page | - | âœ… Analyzes | âœ… Combines | âœ… Exports |
| useAudioRecorder | âœ… Main Logic | - | - | - |
| beatGenerator | - | âœ… Generates | - | - |
| audioUtils | - | - | âœ… Combines | âœ… Exports |
| useAudioStore | âœ… Stores | âœ… Updates | âœ… Updates | âœ… Stores |
| Result Page | - | - | - | âœ… Displays |

---

## Feature Checklist Status

```
RECORDING FEATURES
âœ… Microphone input
âœ… Volume visualization  
âœ… Recording timer
âœ… Pause/Resume
âœ… Clean vocal recording (no backing tracks)

ANALYSIS FEATURES  
âœ… Vocal decoding
âœ… Beat generation per-part
âœ… Real-time progress tracking
âœ… Phase indicators
âœ… Error recovery

COMBINATION FEATURES
âœ… Audio buffer concatenation
âœ… WAV export
âœ… Object URL creation
âœ… Duration calculation

PLAYBACK FEATURES
âœ… Web Audio playback
âœ… Download as WAV
âœ… Share functionality

FUTURE READY
â­ Vocal analysis hooks
â­ Multiple beat variants
â­ AI-powered adjustments
â­ Professional mastering
```

